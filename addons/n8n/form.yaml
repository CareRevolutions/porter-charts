name: n8n
tabs:
- name: main
  label: Main Settings
  sections:
  - name: network
    contents:
    - type: heading
      label: Network Settings
    - type: subtitle
      label: For containers that you do not want to expose to external traffic (e.g. databases and add-on's), you may make them accessible only to other internal services running within the same cluster. 
    - type: checkbox
      variable: ingress.enabled
      label: Expose to external traffic
      settings:
        default: true
  - name: domain_toggle
    show_if: ingress.enabled
    contents:
    - type: subtitle
      label: Assign custom domain to your deployment. You must first create an A/CNAME record in your domain provider that points to your cluster load balancer's IP address for this.
    - type: checkbox
      variable: ingress.custom_domain
      label: Configure Custom Domain
      settings:
        default: true
  - name: domain_name
    show_if: ingress.custom_domain
    contents:
    - type: array-input
      variable: ingress.hosts
      label: Domain Name
  - name: ingress_tls_enabled
    show_if: ingress.custom_domain
    contents:
      - type: checkbox
        variable: ingress.tls
        label: Enable TLS and automatically create certificates
        settings:
          default: true
- name: resources
  label: Resources
  sections:
  - name: main_section
    contents:
    - type: heading
      label: Resources
    - type: subtitle
      label: Configure resources assigned to this container.
    - type: number-input
      label: RAM
      variable: resources.requests.memory
      settings:
        unit: Mi
        default: 2048
    - type: number-input
      label: CPU
      variable: resources.requests.cpu
      settings:
        unit: m
        default: 100
- name: n8n
  label: N8n Configuration
  sections:
  - name: db_vars
    contents:
    - type: heading
      label: Configure n8n
    - type: subtitle
      label: Set Postgres connection variables
    - type: string-input
      label: Database Host
      variable: n8n.database.dbHost
    - type: number-input
      label: Database Port
      variable: n8n.database.dbPort
    - type: string-input
      label: Database User
      variable: n8n.database.dbUser
    - type: string-input
      label: Database Password
      variable: n8n.database.dbPasswd
    - type: string-input
      label: Database Name
      variable: n8n.database.dbName
    - type: string-input
      label: Database Schema
      variable: n8n.database.dbSchema
    - type: subtitle
      label: Set generic configuration settings
    - type: string-input
      label: Generic Timezone
      variable: n8n.genericTimezone