name: Job
hasSource: true
tabs:
- name: main
  label: Main
  sections:
  - name: section_one
    contents: 
    - type: heading
      label: Container Settings
    - type: subtitle
      name: command_description
      label: Set the command to run as a job.
    - type: string-input
      label: Command
      variable: container.command
      required: true
  - name: cron_toggle
    contents:
    - type: heading
      label: Cron Job
    - type: checkbox
      variable: schedule.enabled
      label: Enable cron schedule
      settings:
        default: false
  - name: cron_job
    show_if: schedule.enabled
    contents:
    - type: heading
      label: Cron Job Schedule
    - type: subtitle
      label: Run a job periodically on a schedule specified as a cron expression.
    - type: string-input
      label: Schedule
      variable: repeat.schedule
      settings:
        default: "*/5 * * * *"
  - name: env_vars
    contents:
    - type: heading
      label: Environment Variables
    - type: subtitle
      label: Set environment variables for your secrets and environment-specific configuration.
    - type: env-key-value-array
      label: 
      variable: container.env.normal
  - name: webhook
    contents:
    - type: heading
      label: Deploy Webhook
    - type: checkbox
      variable: auto_deploy
      label: Auto-deploy when webhook is called.
      settings:
        default: true
- name: advanced
  label: Advanced
  sections:
  - name: termination_grace_period
    contents:
    - type: heading
      label: Termination Settings
    - type: subtitle
      label: Specify how much time jobs have to gracefully shut down on SIGTERM.
    - type: number-input
      label: Termination Grace Period (seconds)
      variable: terminationGracePeriodSeconds
      settings:
        default: 30
    - type: subtitle
      label: Specify whether SIGTERM should be propagated to child processes.
    - type: checkbox
      variable: sidecar.signalChildProcesses
      label: Propagate SIGTERM to child processes.
      settings:
        default: true
