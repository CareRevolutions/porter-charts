name: RabbitMQ
tabs:
- name: main
  label: Info
  sections:
  - name: section_one
    contents:
    - type: heading
      label: 'Important Note: Internal Traffic Only'
    - type: subtitle
      label: This instance of RabbitMQ is only exposed to internal traffic and can
        only be reached from other services running on Porter. A connection string
        for this database will be shown after the template is deployed.
    - type: heading
      label: RabbitMQ version
    - type: subtitle
      label: Set the RabbitMQ version you would like to use. You may choose any tag
        from the bitnami/rabbitmq docker image.
    - type: input
      label: Image Tag
      variable: image.tag
      settings:
        type: string
    - type: heading
      label: Authentication
    - type: input
      label: Username
      variable: auth.username
      settings:
        type: string
    - type: input
      label: Password
      variable: auth.password
      settings:
        type: string
- name: resources
  label: Resources
  sections:
  - name: main_section
    contents:
    - type: heading
      label: Resources
    - type: subtitle
      label: Configure resources assigned to this RabbitMQ instance.
    - type: input
      label: Number of Replicas
      variable: replicaCount
      settings:
        type: number
    - type: input
      label: RAM
      variable: resources.requests.memory
      settings:
        unit: Mi
        type: number
    - type: input
      label: CPU
      variable: resources.requests.cpu
      settings:
        unit: m
        type: number
  - name: persistence_enabled
    contents:
    - type: checkbox
      label: Enable persistence
      variable: persistence.enabled
  - name: persistence
    show_if: persistence.enabled
    contents:
    - type: input
      label: Persistent Disk Size
      variable: persistence.size
      required: true
      settings:
        unit: Gi
        type: number
